(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(t,e,n){t.exports=n(54)},41:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),o=n(30),l=n.n(o),c=(n(41),n(9)),u=n(10),i=n(12),s=n(11),d=n(13),m=n(15),b=n(8),h=n(17);function p(){var t=Object(h.a)(["\n\tquery ($id: ID!){\n\t\tbook(id: $id) {\n\t\t\tname \n\t\t\tgenre \n\t\t\tauthor {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tage\n\t\t\t\tbooks {\n\t\t\t\t\tname\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return p=function(){return t},t}function f(){var t=Object(h.a)(["\n  mutation($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      name\n      id\n    }\n  }\n"]);return f=function(){return t},t}function v(){var t=Object(h.a)(["\n\t{\n\t\tbooks {\n\t\t\tgenre\n\t\t\tname \n\t\t\tid\n\t\t}\n\t}\n"]);return v=function(){return t},t}function k(){var t=Object(h.a)(["\n\t{\n\t\tauthors {\n\t\t\tname \n\t\t\tid\n\t\t}\n\t}\n"]);return k=function(){return t},t}var g=Object(m.b)(k()),j=Object(m.b)(v()),E=Object(m.b)(f()),O=Object(m.b)(p()),y=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(o)))).displayBookDetails=function(){var t=n.props.data.book;return t?r.a.createElement("div",null,r.a.createElement("h2",null,t.name),r.a.createElement("p",null,t.genre),r.a.createElement("p",null,t.author.name),r.a.createElement("p",null,"All books by author"),r.a.createElement("ul",{className:"other-books"},t.author.books.map(function(t){return r.a.createElement("li",{key:t.id},t.name)}))):r.a.createElement("div",null,"No book selected")},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"book-details"},this.displayBookDetails())}}]),e}(a.Component),I=Object(b.c)(O,{options:function(t){return{variables:{id:t.bookId}}}})(y),w=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={selected:null},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"displayBooks",value:function(){var t=this,e=this.props.data;return e.loading?r.a.createElement("div",null,"Loading books..."):e.books.map(function(e){return r.a.createElement("li",{key:e.id,onClick:function(n){return t.setState({selected:e.id})}},e.name)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",{id:"book-list"},this.displayBooks(),r.a.createElement(I,{bookId:this.state.selected})))}}]),e}(a.Component),B=Object(b.c)(j)(w),A=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(i.a)(this,Object(s.a)(e).call(this,t))).submitForm=function(t){t.preventDefault(),console.log(n.state);var e=n.state,a=e.name,r=e.genre,o=e.authorId;n.props.addBookMutation({variables:{name:a,genre:r,authorId:o},refetchQueries:[{query:j}]})},n.state={name:"",genre:"",authorId:"5ca14769089977194ccd359f"},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"displayAuthors",value:function(){var t=this.props.getAuthorsQuery;return t.loading?r.a.createElement("option",{disabled:!0},"Loading authors..."):t.authors.map(function(t){return r.a.createElement("option",{key:t.id,value:t.id},t.name)})}},{key:"render",value:function(){var t=this;return r.a.createElement("form",{id:"add-book",onSubmit:this.submitForm},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book name:"),r.a.createElement("input",{type:"text",onChange:function(e){return t.setState({name:e.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",onChange:function(e){return t.setState({genre:e.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author:"),r.a.createElement("select",{onChange:function(e){return t.setState({authorId:e.target.value})}},this.displayAuthors())),r.a.createElement("button",null,"+"))}}]),e}(a.Component),C=Object(b.b)(Object(b.c)(g,{name:"getAuthorsQuery"}),Object(b.c)(E,{name:"addBookMutation"}))(A),$=new m.a({uri:"/graphql"}),N=function(t){function e(){return Object(c.a)(this,e),Object(i.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(b.a,{client:$},r.a.createElement("div",{id:"Main"},r.a.createElement("h1",null,"Ninjas Ding gog"),r.a.createElement(B,null),r.a.createElement(C,null)))}}]),e}(a.Component);l.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.06f2b1e9.chunk.js.map